{% extends "base.html" %}

{% block title %}Reportes - Sistema de Gestión de Evidencias{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2><i class="fas fa-chart-bar me-2"></i>Reportes</h2>
</div>

<div class="row row-cols-1 row-cols-md-3 g-4">
  <div class="col">
    <div class="card h-100 shadow">
      <div class="card-body text-center py-4">
        <i class="fas fa-box-archive text-primary mb-3" style="font-size: 3rem;"></i>
        <h4 class="card-title">Evidencias por Tipo</h4>
        <p class="card-text">Visualiza la distribución de evidencias según su tipo y categoría.</p>
      </div>
      <div class="card-footer text-center">
        <a href="{% url 'reporting:evidence_by_type' %}" class="btn btn-primary">
          <i class="fas fa-eye me-1"></i>Ver Reporte
        </a>
      </div>
    </div>
  </div>

  <div class="col">
    <div class="card h-100 shadow">
      <div class="card-body text-center py-4">
        <i class="fas fa-calendar-alt text-primary mb-3" style="font-size: 3rem;"></i>
        <h4 class="card-title">Evidencias por Período</h4>
        <p class="card-text">Análisis de evidencias recolectadas por mes, trimestre o año.</p>
      </div>
      <div class="card-footer text-center">
        <a href="{% url 'reporting:evidence_by_period' %}" class="btn btn-primary">
          <i class="fas fa-eye me-1"></i>Ver Reporte
        </a>
      </div>
    </div>
  </div>

  <div class="col">
    <div class="card h-100 shadow">
      <div class="card-body text-center py-4">
        <i class="fas fa-sitemap text-primary mb-3" style="font-size: 3rem;"></i>
        <h4 class="card-title">Cadena de Custodia</h4>
        <p class="card-text">Historial de movimientos y traspasos de evidencias en el sistema.</p>
      </div>
      <div class="card-footer text-center">
        <a href="{% url 'reporting:custody_chain' %}" class="btn btn-primary">
          <i class="fas fa-eye me-1"></i>Ver Reporte
        </a>
      </div>
    </div>
  </div>

  <div class="col">
    <div class="card h-100 shadow">
      <div class="card-body text-center py-4">
        <i class="fas fa-exclamation-triangle text-primary mb-3" style="font-size: 3rem;"></i>
        <h4 class="card-title">Evidencias Sensibles</h4>
        <p class="card-text">Listado y estadísticas de evidencias marcadas como sensibles.</p>
      </div>
      <div class="card-footer text-center">
        <a href="{% url 'reporting:sensitive_evidences' %}" class="btn btn-primary">
          <i class="fas fa-eye me-1"></i>Ver Reporte
        </a>
      </div>
    </div>
  </div>

  <div class="col">
    <div class="card h-100 shadow">
      <div class="card-body text-center py-4">
        <i class="fas fa-user-shield text-primary mb-3" style="font-size: 3rem;"></i>
        <h4 class="card-title">Actividad de Usuarios</h4>
        <p class="card-text">Monitoreo de la actividad de usuarios en el sistema.</p>
      </div>
      <div class="card-footer text-center">
        <a href="{% url 'reporting:user_activity' %}" class="btn btn-primary">
          <i class="fas fa-eye me-1"></i>Ver Reporte
        </a>
      </div>
    </div>
  </div>

  <div class="col">
    <div class="card h-100 shadow">
      <div class="card-body text-center py-4">
        <i class="fas fa-file-export text-primary mb-3" style="font-size: 3rem;"></i>
        <h4 class="card-title">Exportar Datos</h4>
        <p class="card-text">Exporta datos del sistema en diferentes formatos.</p>
      </div>
      <div class="card-footer d-flex justify-content-around">
        <a href="{% url 'reporting:export_csv' %}" class="btn btn-success">
          <i class="fas fa-table me-1"></i>CSV
        </a>
        <a href="{% url 'reporting:export_pdf' %}" class="btn btn-danger">
          <i class="fas fa-file-pdf me-1"></i>PDF
        </a>
      </div>
    </div>
  </div>
</div>

<div class="card shadow mt-4">
  <div class="card-header bg-light">
    <h5 class="mb-0"><i class="fas fa-info-circle me-2"></i>Acerca de los Reportes</h5>
  </div>
  <div class="card-body">
    <p>Esta sección permite generar informes y estadísticas sobre las evidencias registradas en el sistema. Los reportes pueden ser personalizados según diferentes criterios y exportados en diversos formatos.</p>
    <p>Para solicitar un nuevo tipo de reporte, contacte al administrador del sistema.</p>
    <div class="alert alert-info">
      <i class="fas fa-lock me-2"></i>Solo los usuarios con rol administrativo o administrador pueden exportar reportes.
    </div>
  </div>
</div>

<div class="mb-3">
  <a href="{% url 'reporting:export_csv' %}" class="btn btn-success">Exportar Evidencias CSV</a>
  <a href="{% url 'reporting:export_pdf' %}" class="btn btn-danger">Exportar Evidencias PDF</a>
  <a href="{% url 'reporting:evidence_by_type_pdf' %}" class="btn btn-danger">Exportar por Tipo PDF</a>
  <a href="{% url 'reporting:user_activity_pdf' %}" class="btn btn-danger">Exportar Actividad PDF</a>
</div>
{% endblock %} 